df
df[2]
names(df)
arrtibutes(df)
attributes(df)
attributes(df)$names[2] <- "Family"
df
attributes(df)
attributes(df)$row.names[2] <- "Two"
df
df
dfdf
df
attributes(df)$class <- list()
?order
?sort
?%>%
??%>%
?dplyr
library(dplyr)
?%>%
?dplyr
df
df%>% filter(gender == "female")
df
sw
df
filter(genter == "male")
filter(gender == "male")
filter(gender)
filter(dt, gender == "male")
filter(df, gender == "male")
df
arrange(select(df, first, gender, born), born)
df%>%select(first, gender, born)%>%arrange(born)
df%>%select(born)$>$summarise(max_born = max(born))
df%>%select(born)%>%summarise(max_born = max(born))
df
df%>%group_by(gender)%>%summarise(max_born = max(born))
summarise(df, group_by(gender), max_born = max(born))
summarise(group_by(df, gender), max_born = max(born))
3xalqo <- 12
_30d0_dl <- 12
.sdowk <- 123213
.sdowk3
.sdowk
.var_name <- "name"
.var_name
VarName <- yes
VarName <- 123
var-name <- 123
math+doq <- 12
log10
log(10)/(5/2 - log(2/3))
(1/2)^10
log(3/2)
(log(1/10)-1/2)/log(2/3)
(log(1/10) - 5) / log(2/3)
exp(-10)
exp(-10)*1000
14!
factanal(14)
factorial(14)
10^14/factorial(14)
exp(-10)*1147
(2*log(1.4)+3)*0.1
2*log(1)+1
2.4*log(1.2)+1.2
2.4*log(1.2)+1.2 - 0.5465
1.2625 - 1.0000
(1.2625 - 1.0000)/2
(1.2625 - 1.0000)/0.2
(1.6595-1.2625)/0.2
(1.6595-1.2625)
(1.6595-1.2625)/0.2
2.4*log(1.2)+1.2 - 1.985
2.8*log(1.4)+1.4 - 1.985
cos(3*(-2.7))^2-exp(2*(-2.7))
cos(3*(-2.7))^2-exp(2*(-2.7)) +0.9151775
cos(3*(-2.5))^2-exp(2*(-2.5)) -1.5014075
cos(3*(-2.3))^2-exp(2*(-2.3)) -2.17825
cos(3*(-2.1))^2-exp(2*(-2.1)) -1.11535
-6*cos(3*(-2.7))*sin(3*(-2.7)) - 2*exp(2*(-2.7))
-6*cos(3*(-2.7))*sin(3*(-2.7)) - 2*exp(2*(-2.7)) + 0.915775
-6*cos(3*(-2.5))*sin(3*(-2.5)) - 2*exp(2*(-2.5)) - 1.5014075
-6*cos(3*(-2.3))*sin(3*(-2.3)) - 2*exp(2*(-2.3)) - 2.17825
-6*cos(3*(-2.1))*sin(3*(-2.1)) - 2*exp(2*(-2.1)) - 1.11535
knitr::opts_chunk$set(echo = TRUE)
setwd("~/Desktop/STAT 133/stat133-hws-fall17/hw03/")
setwd("~/Desktop/STAT 133/stat133-hws-fall17/hw03/")
library(readr)
library(dplyr)
library(ggplot2)
teams<- read_csv("./data/nba2017_teams.csv")
ggplot(teams, aes(x = reorder(team, salary), y = salary)) +
geom_bar(stat='identity') +
coord_flip() +
geom_hline(yintercept = mean(teams$salary), col = "Red") +
labs(x = "Team", y = "Salary (in millions)", title = "NBA Teams ranked by Total Salary")
ggplot(teams, aes(x = reorder(team, points), y = points)) +
geom_bar(stat='identity') +
coord_flip() +
geom_hline(yintercept = mean(teams$points), col = "Red") +
labs(x = "Team", y = "Total Points", title = "NBA Teams ranked by Total Points")
ggplot(teams, aes(x = reorder(team, efficiency), y = efficiency)) +
geom_bar(stat='identity') +
coord_flip() +
geom_hline(yintercept = mean(teams$efficiency), col = "Red") +
labs(x = "Team", y = "Total Efficiency", title = "NBA Teams ranked by Total Efficiency")
pca <- prcomp(teams, scale. = TRUE)
pca_points3 <- prcomp(teams$points3, scale. = TRUE)
pca_points3
names(pca_points3)
eigs <- data.frame(
eigenvalue = pca_points3$sdev^2,
proportion = round(100 * pca_points3$sdev^2 / sum(pca_points3$sdev^2), 3)
)
eigs
pca_points3 <- prcomp(teams[, -1], scale. = TRUE)
eigs <- data.frame(
eigenvalue = pca_points3$sdev^2,
proportion = round(100 * pca_points3$sdev^2 / sum(pca_points3$sdev^2), 3)
)
eigs
pca <- teams %>%
filter(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca
pca
pca <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca
pca <- prcomp(pca, scale. = TRUE)
pca
eigs <- data.frame(
eigenvalue = pca_points3$sdev^2,
proportion = round(100 * pca_points3$sdev^2 / sum(pca_points3$sdev^2), 3)
)
eig
eigs
pca <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
setwd("~/Desktop/STAT 133/stat133-hws-fall17/hw03/")
library(readr)
library(dplyr)
library(ggplot2)
teams<- read_csv("./data/nba2017_teams.csv")
pca <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca
temas3 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca
names(pca)
temas1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
setwd("~/Desktop/STAT 133/stat133-hws-fall17/hw03/")
library(readr)
library(dplyr)
library(ggplot2)
teams<- read_csv("./data/nba2017_teams.csv")
temas1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
eigs <- data.frame(
eigenvalue = pca$sdev^2,
proportion = round(100 * pca_points3$sdev^2 / sum(pca_points3$sdev^2), 3)
)
pca <- prcomp(teams1, scale. = TRUE)
teams1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
View(teams1)
rm(temas1)
pca <- prcomp(teams1, scale. = TRUE)
names(pca)
pca
eigs <- data.frame(
eigenvalue = pca$sdev^2,
proportion = round(100 * pca$sdev^2 / sum(pca$sdev^2), 3)
)
eigs
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
proportion = round(100 * pca$sdev^2 / sum(pca$sdev^2), 3)
)
eigs
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(100 * pca$sdev^2 / sum(pca$sdev^2), 3)
)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 3)
)
eigs
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4)
)
eigs
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4)
cumprop = cumsum(eigs$prop)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = cumsum(eigs$prop)
)
eigs
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = round(cumsum(eigs$prop), 4)
)
eigs
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = cumsum(prop)
)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = cumsum(eigs$prop)
)
eigs
rm(eigs)
s, def_rebounds, assists, steals,
teams1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca <- prcomp(teams1, scale. = TRUE)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4)
)
eigs %>%
mutate(cumprop = cumsum(prop))
eigs
eigs %>%
mutate(cumprop = cumsum(prop))
eigs
eigs$cumprop <- cumsum(prop
eigs$cumprop <- cumsum(prop)
eigs$cumprop <- cumsum(prop)
eigs$cumprop <- cumsum(eigs$prop)
eigs
?cumsum
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = cumsum(eigs$prop)
)
eigs
---
title: "HW03 - Ranking NBA Teams"
author: "Donggyun Kim"
date: "2017-10-07"
output: github_document
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r, message=FALSE}
setwd("~/Desktop/STAT 133/stat133-hws-fall17/hw03/")
library(readr)
library(dplyr)
library(ggplot2)
teams<- read_csv("./data/nba2017_teams.csv")
```
# Basic Rankings
```{r}
ggplot(teams, aes(x = reorder(team, salary), y = salary)) +
geom_bar(stat='identity') +
coord_flip() +
geom_hline(yintercept = mean(teams$salary), col = "Red") +
labs(x = "Team", y = "Salary (in millions)", title = "NBA Teams ranked by Total Salary")
```
```{r}
ggplot(teams, aes(x = reorder(team, points), y = points)) +
geom_bar(stat='identity') +
coord_flip() +
geom_hline(yintercept = mean(teams$points), col = "Red") +
labs(x = "Team", y = "Total Points", title = "NBA Teams ranked by Total Points")
```
```{r}
ggplot(teams, aes(x = reorder(team, efficiency), y = efficiency)) +
geom_bar(stat='identity') +
coord_flip() +
geom_hline(yintercept = mean(teams$efficiency), col = "Red") +
labs(x = "Team", y = "Total Efficiency", title = "NBA Teams ranked by Total Efficiency")
```
# Principal Components Analysis (PCA)
```{r}
teams1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca <- prcomp(teams1, scale. = TRUE)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = cumsum(eigs$prop)
)
```
teams1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca <- prcomp(teams1, scale. = TRUE)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = cumsum(eigs$prop)
)
pca
ggplot(pca, aes(x = PC1, y = PC2))+geom_point()
plot(pca$PC1, pca$PC2)
pca$x
View(teams)
View(teams)
teams<- read_csv("./data/nba2017_teams.csv", row.names(team))
setwd("~/Desktop/STAT 133/stat133-hws-fall17/hw03/")
library(readr)
library(dplyr)
library(ggplot2)
teams<- read_csv("./data/nba2017_teams.csv", row.names(team))
?read_csv
?row.names
rownames(teams) <- teams$team
teams<- read_csv("./data/nba2017_teams.csv")
setwd("~/Desktop/STAT 133/stat133-hws-fall17/hw03/")
library(readr)
library(dplyr)
library(ggplot2)
teams<- read_csv("./data/nba2017_teams.csv")
rownames(teams) <- teams$team
teams
aggregate(teams)
attributes(teams)
setwd("~/Desktop/STAT 133/stat133-hws-fall17/hw03/")
library(readr)
library(dplyr)
library(ggplot2)
teams<- read_csv("./data/nba2017_teams.csv")
attributes(teams)
attributes(teams)$row.names <- teams$team
attributes(teams)
ggplot(teams, aes(x = reorder(team, salary), y = salary)) +
geom_bar(stat='identity') +
coord_flip() +
geom_hline(yintercept = mean(teams$salary), col = "Red") +
labs(x = "Team", y = "Salary (in millions)", title = "NBA Teams ranked by Total Salary")
ggplot(teams, aes(x = reorder(team, points), y = points)) +
geom_bar(stat='identity') +
coord_flip() +
geom_hline(yintercept = mean(teams$points), col = "Red") +
labs(x = "Team", y = "Total Points", title = "NBA Teams ranked by Total Points")
ggplot(teams, aes(x = reorder(team, efficiency), y = efficiency)) +
geom_bar(stat='identity') +
coord_flip() +
geom_hline(yintercept = mean(teams$efficiency), col = "Red") +
labs(x = "Team", y = "Total Efficiency", title = "NBA Teams ranked by Total Efficiency")
teams1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca <- prcomp(teams1, scale. = TRUE)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = cumsum(eigs$prop)
)
eigs
pca$x
ggplot(pca$x, aes(x = PC1, y = PC2))+geom_point()
plot(pca$x$PC1, pca$x$PC2)
plot(pca$x[PC1], pca$x[PC2])
plot(pca$x[1], pca$x[2])
pca$x[1]
pca$x[,1]
plot(pca$x[,1], pca$x[,2])
ggplot(pca$x[,1], pca$x[,2])+geom_point
ggplot(aes(pca$x[,1], pca$x[,2])+geom_point
ggplot(aes(pca$x[,1], pca$x[,2])+geom_point
ggplot(aes(pca$x[,1], pca$x[,2])+geom_point()
ggplot(pca, aes(pca$x[,1], pca$x[,2])+geom_point()
ggplot(pca$x, aes(pca$x[,1], pca$x[,2])+geom_point()
ggplot(pca$x, aes(pca$x[,1], pca$x[,2]) + geom_point()
ggplot(pca$x, aes(pca$x[,1], pca$x[,2])) + geom_point()
ggplot(aes(pca$x[,1], pca$x[,2])) + geom_point()
install.packages("ggfortify")
library("ggfortify", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
ggplot(aes(pca$x[,1], pca$x[,2])) + geom_point()
autoplot(pca)
autoplot(pca)
autoplot(pca)
?autoplot
text(pca)
text(pca$x[,1], pca$x[,2])
autoplot(pca)
text(pca$x[,1], pca$x[,2])
autoplot(pca)
text(pca$x[,1], pca$x[,2])
autoplot(pca)
text(pca$x[,1], pca$x[,2])
pci <- data.frame(pca$x)
pci
ggplot(pci, aes(x = PC1, y = PC2))
ggplot(pci, aes(x = PC1, y = PC2))+geom_point()
ggplot(pci, aes(x = PC1, y = PC2))+geom_text()
pci <- data.frame(pca$x)
ggplot(pci, aes(x = PC1, y = PC2))+geom_text()
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci))+geom_text()
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci))+geom_text()
pci <- data.frame(pca$x)
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci))+geom_text()
pci
ggplot(pci, aes(x = PC1, y = PC2), label = attributes(pci)$row.names))+geom_text()
ggplot(pci, aes(x = PC1, y = PC2), label = attributes(pci)$row.names)+geom_text()
pci <- data.frame(pca$x)
ggplot(pci, aes(x = PC1, y = PC2), label = attributes(pci)$row.names)+geom_text()
pci <- data.frame(pca$x)
ggplot(pci, aes(x = PC1, y = PC2), label = attributes(pci)$row.names)+geom_text()
pci <- data.frame(pca$x)
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci))+geom_text()
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci))
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci)) + geom_pont
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci)) + geom_ponit
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci)) + geom_ponit()
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci)) + geom_point()
rownames(pci)
ggplot(pci, aes(x = PC1, y = PC2), label = rownames(pci)) + geom_text()
ggplot(pci, aes(x = PC1, y = PC2)) + geom_text(label = rownames(pci))
ggplot(pci, aes(x = PC1, y = PC2)) + geom_text(label = rownames(pci), check_overlap = TRUE)
pci <- data.frame(pca$x)
ggplot(pci, aes(x = PC1, y = PC2)) + geom_text(label = rownames(pci))
pci
z1 <- pci$PC1
z1
s1 <- 100*(pci$PC1 - min(pci$PC1))/(max(pci$PC1) - min(pci$PC1))
s1
pci
s1 <- dtat.frame(100*(pci$PC1 - min(pci$PC1))/(max(pci$PC1) - min(pci$PC1)))
s1 <- select(pci$PC1)
setwd("~/Desktop/STAT 133/stat133-hws-fall17/hw03/")
library(readr)
library(dplyr)
library(ggplot2)
teams<- read_csv("./data/nba2017_teams.csv")
attributes(teams)$row.names <- teams$team
teams1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca <- prcomp(teams1, scale. = TRUE)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = cumsum(eigs$prop)
)
teams1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca <- prcomp(teams1, scale. = TRUE)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4),
cumprop = cumsum(eigs$prop)
)
teams1 <- teams %>%
select(points3, points2, free_throws, off_rebounds, def_rebounds, assists, steals,
blocks, turnovers, fouls)
pca <- prcomp(teams1, scale. = TRUE)
eigs <- data.frame(
eigenvalue = round(pca$sdev^2, 4),
prop = round(pca$sdev^2 / sum(pca$sdev^2), 4)
)
eigs$cumprop <- cumsum(eigs$prop)
eigs
pci <- data.frame(pca$x)
ggplot(pci, aes(x = PC1, y = PC2)) + geom_text(label = rownames(pci))
s1 <- select(pci$PC1)
s1 <- pci %>%
select(PC1)
s1
z1 <- pci %>%
select(PC1)
rm(s1)
s1 <- (z1 - min(z1))/(max(z1) - min(z1))*100
s1
s1$team <- attributes(s1)$row.names
s1
z1 <- pci %>%
select(PC1)
s1 <- (z1 - min(z1))/(max(z1) - min(z1))*100
s1$team <- attributes(s1)$row.names
ggplot(s1, aes(x = reorder(team, PC1), y = PC1)) +
geom_bar(stat = "identity") +
coord_flip() +
geom_hline(yintercept = mean(s1$PC1), col = "red") +
labs(x = "Team", y = "Firtst PC (scaled from 0 to 100)", title = "NBA Teams ranked by scaled PC1")
